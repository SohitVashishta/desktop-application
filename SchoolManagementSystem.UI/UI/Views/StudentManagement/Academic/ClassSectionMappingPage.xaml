<UserControl x:Class="SchoolManagementSystem.UI.UI.Views.StudentManagement.Academic.ClassSectionMappingPage"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes">

    <materialDesign:DialogHost>

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- ================= TOOLBAR ================= -->
            <Border Grid.Row="0"
                    Background="#F9FAFB"
                    Padding="12"
                    BorderBrush="#E5E7EB"
                    BorderThickness="0,0,0,1">

                <StackPanel Orientation="Horizontal">

                    <ComboBox Width="180"
                              Margin="0,0,8,0"
                              Style="{StaticResource MaterialDesignOutlinedComboBox}"
                              ItemsSource="{Binding Classes}"
                              SelectedItem="{Binding SelectedClass}"
                              DisplayMemberPath="ClassName"
                              materialDesign:HintAssist.Hint="Class"/>

                    <ComboBox Width="160"
                              Margin="0,0,8,0"
                              Style="{StaticResource MaterialDesignOutlinedComboBox}"
                              ItemsSource="{Binding AcademicYears}"
                              SelectedItem="{Binding SelectedAcademicYear}"
                              DisplayMemberPath="YearName"
                              materialDesign:HintAssist.Hint="Academic Year"/>

                    <ComboBox Width="140"
                              Margin="0,0,8,0"
                              Style="{StaticResource MaterialDesignOutlinedComboBox}"
                              ItemsSource="{Binding Sections}"
                              SelectedItem="{Binding SelectedSection}"
                              DisplayMemberPath="SectionName"
                              materialDesign:HintAssist.Hint="Section"/>

                    <Button Width="120"
                            Style="{StaticResource MaterialDesignRaisedButton}"
                            Command="{Binding AddMappingCommand}">
                        Add Section
                    </Button>

                </StackPanel>
            </Border>

            <!-- ================= GRID ================= -->
            <DataGrid Grid.Row="1"
                      ItemsSource="{Binding ClassSections}"
                      AutoGenerateColumns="False"
                      IsReadOnly="True"
                      RowHeight="48"
                      GridLinesVisibility="None"
                      Style="{StaticResource MaterialDesignDataGrid}">

                <DataGrid.Columns>

                    <DataGridTextColumn Header="Section"
                                        Binding="{Binding SectionName}"
                                        Width="*"/>

                    <DataGridCheckBoxColumn Header="Active"
                                             Binding="{Binding IsActive}"
                                             Width="80"/>

                    <DataGridTemplateColumn Width="72">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <Button Style="{StaticResource MaterialDesignIconButton}"
                                        Command="{Binding DataContext.ToggleStatusCommand,
                                                  RelativeSource={RelativeSource AncestorType=UserControl}}"
                                        CommandParameter="{Binding}">
                                    <materialDesign:PackIcon Kind="SwapHorizontal"/>
                                </Button>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>

                </DataGrid.Columns>
            </DataGrid>

            <!-- ================= SNACKBAR ================= -->
            <materialDesign:Snackbar Grid.RowSpan="2"
                                     MessageQueue="{Binding SnackbarMessageQueue}"
                                     VerticalAlignment="Bottom"/>
        </Grid>

    </materialDesign:DialogHost>
</UserControl>
