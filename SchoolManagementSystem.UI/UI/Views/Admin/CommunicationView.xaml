<UserControl x:Class="SchoolManagementSystem.UI.UI.Views.Admin.CommunicationView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
             xmlns:vm="clr-namespace:SchoolManagementSystem.UI.UI.ViewModels.Admin">

    <!--<UserControl.DataContext>
        <vm:CommunicationViewModel/>
    </UserControl.DataContext>-->

    <ScrollViewer>
        <StackPanel>

            <TextBlock Text="Communication Notifications"
                       Style="{StaticResource SectionHeaderStyle}"/>

            <!-- SEND -->
            <Border Style="{StaticResource CardStyle}">
                <StackPanel>

                    <TextBlock Text="Send Notification"
                               FontWeight="SemiBold"
                               Margin="0,0,0,10"/>

                    <TextBlock Text="Title"/>
                    <TextBox Style="{StaticResource TextBoxInputStyle}"
                             Text="{Binding Title}"
                             Margin="0,5,0,10"/>

                    <TextBlock Text="Message"/>
                    <TextBox Style="{StaticResource TextBoxInputStyle}"
                             Text="{Binding Message}"
                             Height="80"
                             AcceptsReturn="True"
                             TextWrapping="Wrap"/>

                    <TextBlock Text="Type" Margin="0,10,0,0"/>
                    <ComboBox Width="160"
                              SelectedItem="{Binding Type}">
                        <ComboBoxItem Content="Announcement"/>
                        <ComboBoxItem Content="Alert"/>
                        <ComboBoxItem Content="Message"/>
                    </ComboBox>

                    <Button Content="Send"
                            Command="{Binding SendCommand}"
                            Style="{StaticResource ActionButtonStyle}"
                            Background="{StaticResource PrimaryBrush}"
                            Foreground="White"
                            Margin="0,15,0,0"/>

                </StackPanel>
            </Border>

            <!-- HISTORY -->
            <Border Style="{StaticResource CardStyle}"
                    Margin="0,16,0,0">

                <StackPanel>
                    <TextBlock Text="Notification History"
                               FontWeight="SemiBold"
                               Margin="0,0,0,10"/>

                    <DataGrid ItemsSource="{Binding Notifications}"
                              AutoGenerateColumns="False">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Title" Binding="{Binding Title}"/>
                            <DataGridTextColumn Header="Type" Binding="{Binding Type}"/>
                            <DataGridTextColumn Header="Audience" Binding="{Binding TargetAudience}"/>
                            <DataGridTextColumn Header="Date" Binding="{Binding CreatedOn}"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </StackPanel>
            </Border>

        </StackPanel>
    </ScrollViewer>
</UserControl>
