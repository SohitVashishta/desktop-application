<Page x:Class="SchoolManagementSystem.UI.UI.Views.Admin.PermissionMatrixPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:vm="clr-namespace:SchoolManagementSystem.UI.UI.ViewModels.Admin"
      Title="Permission Matrix">

    <Page.DataContext>
        <vm:PermissionMatrixViewModel/>
    </Page.DataContext>

    <StackPanel Margin="20">

        <TextBlock Text="Permission Matrix"
                   FontSize="20"
                   FontWeight="Bold"
                   Margin="0,0,0,10"/>

        <ComboBox ItemsSource="{Binding Roles}"
                  SelectedItem="{Binding SelectedRole}"
                  DisplayMemberPath="Name"
                  Width="250"/>

        <DataGrid ItemsSource="{Binding Permissions}"
                  AutoGenerateColumns="False"
                  Margin="0,15,0,0">

            <DataGrid.Columns>
                <DataGridTextColumn Header="Permission"
                                    Binding="{Binding Code}"
                                    Width="*"/>

                <DataGridCheckBoxColumn Header="Allowed"
                                        Binding="{Binding IsAllowed}"
                                        Width="120"/>
            </DataGrid.Columns>
        </DataGrid>

        <Button Content="Save Permissions"
                Command="{Binding SaveCommand}"
                Width="160"
                Margin="0,15,0,0"/>
    </StackPanel>
</Page>
