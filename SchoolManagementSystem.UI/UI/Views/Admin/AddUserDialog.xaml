<Window x:Class="SchoolManagementSystem.UI.UI.Views.Admin.AddUserDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Add User"
        Height="520"
        Width="420"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="#F3F4F6"
        WindowStyle="None">

    <Grid>
        <!-- ================= ADD USER CARD ================= -->
        <Border Background="White"
                Padding="28"
                Width="380"
                VerticalAlignment="Center"
                HorizontalAlignment="Center"
                CornerRadius="8">

            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- ================= HEADER ================= -->
                <StackPanel Margin="0,0,0,25">
                    <TextBlock Text="Add New User"
                               FontSize="20"
                               FontWeight="Bold"
                               Foreground="#111827"/>

                    <TextBlock Text="Fill the details below"
                               FontSize="12"
                               Foreground="#6B7280"
                               Margin="0,4,0,0"/>
                </StackPanel>

                <!-- ================= FORM ================= -->
                <StackPanel Grid.Row="1">

                    <!-- Username -->
                    <TextBlock Text="Username"
                               FontSize="12"
                               Foreground="#374151"/>

                    <TextBox Style="{StaticResource TextBoxInputStyle}"
                             Text="{Binding Username, UpdateSourceTrigger=PropertyChanged}"
                             Margin="0,6,0,14"/>

                    <!-- Email -->
                    <TextBlock Text="Email"
                               FontSize="12"
                               Foreground="#374151"/>

                    <TextBox Style="{StaticResource TextBoxInputStyle}"
                             Text="{Binding Email, UpdateSourceTrigger=PropertyChanged}"
                             Margin="0,6,0,14"/>

                    <!-- Password -->
                    <TextBlock Text="Password"
                               FontSize="12"
                               Foreground="#374151"/>

                    <PasswordBox x:Name="PwdBox"
                                 Style="{StaticResource PasswordBoxInputStyle}"
                                 Margin="0,6,0,8"
                                 PasswordChanged="PwdBox_PasswordChanged"/>

                    <!-- Password Strength -->
                    <ProgressBar Height="6"
                                 Maximum="4"
                                Value="{Binding PasswordStrength, Mode=OneWay}"
                                 Background="#E5E7EB"
                                 Foreground="#22C55E"
                                 BorderThickness="0"
                                 Margin="0,4,0,8"/>

                    <TextBlock Text="Password must be 8+ chars, uppercase, number &amp; symbol"
                               FontSize="11"
                               Foreground="#6B7280"/>

                    <!-- Role -->
                    <TextBlock Text="Role"
                               FontSize="12"
                               Foreground="#374151"
                               Margin="0,14,0,0"/>

                    <ComboBox Height="36"
                              ItemsSource="{Binding Roles}"
                              SelectedItem="{Binding SelectedRole}"/>
                </StackPanel>

                <!-- ================= ACTIONS ================= -->
                <!-- ================= ACTIONS ================= -->
                <StackPanel Grid.Row="2"
            Orientation="Horizontal"
            HorizontalAlignment="Right"
            Margin="0,20,0,0">

                    <Button Content="Cancel"
            Height="36"
            Width="100"
            Margin="0,0,12,0"
            Background="#E5E7EB"
            Foreground="#111827"
            BorderThickness="0"
            Cursor="Hand"
            Command="{Binding CancelCommand}"/>

                    <Button Content="Save User"
            Height="36"
            Width="120"
            FontSize="14"
            FontWeight="SemiBold"
            Background="#2563EB"
            Foreground="White"
            BorderThickness="0"
            Cursor="Hand"
            Command="{Binding SaveCommand}"
            IsEnabled="{Binding CanSave}"/>
                </StackPanel>


            </Grid>
        </Border>
    </Grid>
</Window>
