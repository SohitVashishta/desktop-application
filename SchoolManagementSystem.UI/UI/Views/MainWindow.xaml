<Window x:Class="SchoolManagementSystem.UI.UI.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="School Management System"
        Height="650"
        Width="1100"
        WindowStartupLocation="CenterScreen"
        Background="#F4F6F9">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="240"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- ================= LEFT SIDEBAR ================= -->
        <Border Grid.Column="0" Background="#1F2937">
            <DockPanel>

                <!-- BRAND -->
                <StackPanel DockPanel.Dock="Top" Margin="15">
                    <TextBlock Text="SMS"
                               FontSize="24"
                               FontWeight="Bold"
                               Foreground="White"/>
                    <TextBlock Text="School Management"
                               Foreground="#9CA3AF"
                               FontSize="12"/>
                </StackPanel>

                <!-- USER -->
                <Border DockPanel.Dock="Top"
                        Background="#111827"
                        Padding="12"
                        Margin="10"
                        CornerRadius="6">
                    <StackPanel>
                        <TextBlock Text="Logged in as"
                                   FontSize="11"
                                   Foreground="#9CA3AF"/>
                        <TextBlock Text="{Binding Username}"
                                   FontSize="14"
                                   FontWeight="Bold"
                                   Foreground="White"/>
                    </StackPanel>
                </Border>

                <!-- MENU -->
                <StackPanel DockPanel.Dock="Top" Margin="5">

                    <Button x:Name="BtnDashboard"
                            Content="Dashboard"
                            Style="{StaticResource MenuButtonStyle}"
                            Click="Dashboard_Click"/>

                    <Button x:Name="BtnStudents"
                            Content="Students"
                            Style="{StaticResource MenuButtonStyle}"
                            Click="Students_Click"/>

                    <Button x:Name="BtnTeachers"
                            Content="Teachers"
                            Style="{StaticResource MenuButtonStyle}"
                            Visibility="{Binding IsAdmin}"
                            Click="Teachers_Click"/>

                    <Button x:Name="BtnAttendance"
                            Content="Attendance"
                            Style="{StaticResource MenuButtonStyle}"
                            Visibility="{Binding IsTeacherOrAdmin}"
                            Click="Attendance_Click"/>
                    
                    <Button x:Name="BtnMyClasses" Content="My Classes"  
                            Style="{StaticResource MenuButtonStyle}"
                            Visibility="{Binding IsTeacher}"
                            Click="MyClasses_Click"/>
                    
                    <Button x:Name="BtnReports"
                            Content="Reports"
                            Style="{StaticResource MenuButtonStyle}"
                            Visibility="{Binding IsAdmin}"
                            Click="Reports_Click"/>

                    <Separator Margin="10"/>

                    <Button x:Name="BtnImportStudents"
                            Content="Import Students"
                            Style="{StaticResource MenuButtonStyle}"
                            Visibility="{Binding IsAdmin}"
                            Click="ImportStudents_Click"/>

                    <Button x:Name="BtnImportTeachers"
                            Content="Import Teachers"
                            Style="{StaticResource MenuButtonStyle}"
                            Visibility="{Binding IsAdmin}"
                            Click="ImportTeachers_Click"/>
                </StackPanel>

                <!-- LOGOUT -->
                <Button DockPanel.Dock="Bottom"
                        Content="Logout"
                        Height="40"
                        Margin="12"
                        Background="#DC2626"
                        Foreground="White"
                        BorderThickness="0"
                        Click="Logout_Click"/>
            </DockPanel>
        </Border>

        <!-- ================= MAIN CONTENT ================= -->
        <Grid Grid.Column="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- BREADCRUMB -->
            <Border Background="White"
                    Padding="12"
                    BorderBrush="#E5E7EB"
                    BorderThickness="0,0,0,1">
                <TextBlock x:Name="BreadcrumbText"
                           Text="Dashboard"
                           FontSize="14"
                           FontWeight="SemiBold"
                           Foreground="#374151"/>
            </Border>

            <!-- CONTENT -->
            <ContentControl x:Name="MainContent"
                            Grid.Row="1"
                            Margin="15"/>
        </Grid>
    </Grid>
</Window>
