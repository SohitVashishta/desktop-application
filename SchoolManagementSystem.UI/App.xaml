<Application x:Class="SchoolManagementSystem.UI.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             xmlns:local="clr-namespace:SchoolManagementSystem.UI.UI.Helpers"
             StartupUri="UI/Views/LoginView.xaml">

    <Application.Resources>
        <ResourceDictionary>

            <!-- ================= MERGED MATERIAL DICTIONARIES ================= -->
            <ResourceDictionary.MergedDictionaries>

                <!-- BASE -->
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.Defaults.xaml"/>
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.Light.xaml"/>

                <!-- CONTROLS (REQUIRED FOR HintAssist) -->
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.TextBox.xaml"/>
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.ComboBox.xaml"/>
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.PasswordBox.xaml"/>
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.Button.xaml"/>
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.ToggleButton.xaml"/>
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.ProgressBar.xaml"/>
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.DataGrid.xaml"/>

                <!-- COLORS -->
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignColors;component/Themes/Recommended/Primary/MaterialDesignColor.Blue.xaml"/>
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignColors;component/Themes/Recommended/Accent/MaterialDesignColor.Indigo.xaml"/>

            </ResourceDictionary.MergedDictionaries>


            <!-- ================= CONVERTERS ================= -->
            <local:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter"/>
            <local:InverseBoolConverter x:Key="InverseBoolConverter"/>
            <local:BoolToBrushConverter x:Key="BoolToBrushConverter"/>
            <local:BoolToStatusTextConverter x:Key="BoolToStatusTextConverter"/>
            <local:PasswordMismatchVisibilityConverter x:Key="PasswordMismatchVisibilityConverter"/>
            <local:BoolToStatusBackgroundConverter x:Key="BoolToStatusBackgroundConverter"/>
            <local:FirstLetterConverter x:Key="FirstLetterConverter"/>
            <local:UppercaseConverter  x:Key="UppercaseConverter "/>
            <local:InverseBoolToVisibilityConverter   x:Key="InverseBoolToVisibilityConverter"/>
            <local:StatusToBrushConverter   x:Key="StatusToBrushConverter"/>
            <Style TargetType="Control">
                <Setter Property="FontFamily" Value="Segoe UI"/>
                <Setter Property="FontSize" Value="13"/>
            </Style>

            <!-- ================= MENU BUTTON ================= -->
            <Style x:Key="MenuButtonStyle"
       TargetType="Button"
       BasedOn="{StaticResource MaterialDesignFlatButton}">

                <Setter Property="Height" Value="40"/>
                <Setter Property="Margin" Value="6,3"/>
                <Setter Property="Padding" Value="12,0"/>
                <Setter Property="Foreground" Value="White"/>
                <Setter Property="HorizontalContentAlignment" Value="Left"/>

                <!-- SAFE CONTENT TEMPLATE -->
                <Setter Property="ContentTemplate">
                    <Setter.Value>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal">
                                <materialDesign:PackIcon
                        Kind="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Tag}"
                        Width="18"
                        Height="18"
                        Margin="0,0,10,0"
                        Foreground="#9CA3AF"/>

                                <TextBlock Text="{Binding}"
                               VerticalAlignment="Center"/>
                            </StackPanel>
                        </DataTemplate>
                    </Setter.Value>
                </Setter>
            </Style>




            <!-- ================= SUB MENU ================= -->
            <Style x:Key="SubMenuButtonStyle"
       TargetType="Button"
       BasedOn="{StaticResource MaterialDesignFlatButton}">

                <Setter Property="Height" Value="34"/>
                <Setter Property="Margin" Value="32,2,6,2"/>
                <Setter Property="Foreground" Value="#E5E7EB"/>
                <Setter Property="HorizontalContentAlignment" Value="Left"/>
                <Setter Property="FontSize" Value="12"/>

                <Setter Property="ContentTemplate">
                    <Setter.Value>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal">
                                <materialDesign:PackIcon
                        Kind="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Tag}"
                        Width="16"
                        Height="16"
                        Margin="0,0,8,0"
                        Foreground="#9CA3AF"/>

                                <TextBlock Text="{Binding}"
                               VerticalAlignment="Center"/>
                            </StackPanel>
                        </DataTemplate>
                    </Setter.Value>
                </Setter>
            </Style>



            <!-- ================= SIDEBAR EXPANDER ================= -->
            <Style x:Key="SidebarExpanderStyle"
       TargetType="Expander">

                <Setter Property="Foreground" Value="White"/>
                <Setter Property="BorderThickness" Value="0"/>

                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Expander">
                            <StackPanel>

                                <!-- HEADER -->
                                <ToggleButton
                        IsChecked="{Binding IsExpanded, RelativeSource={RelativeSource TemplatedParent}}"
                        Style="{StaticResource MaterialDesignFlatButton}"
                        HorizontalContentAlignment="Left"
                        Padding="12,8">

                                    <StackPanel Orientation="Horizontal">
                                        <materialDesign:PackIcon
                                Kind="{TemplateBinding Tag}"
                                Width="18"
                                Height="18"
                                Margin="0,0,10,0"
                                Foreground="#9CA3AF"/>

                                        <TextBlock Text="{TemplateBinding Header}"
                                       Foreground="White"/>
                                    </StackPanel>
                                </ToggleButton>

                                <!-- CONTENT -->
                                <ContentPresenter
                        Visibility="{Binding IsExpanded,
                                     RelativeSource={RelativeSource TemplatedParent},
                                     Converter={StaticResource BoolToVisibilityConverter}}"
                        Margin="0,4,0,6"/>
                            </StackPanel>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

          


        </ResourceDictionary>
        
    </Application.Resources>
</Application>
